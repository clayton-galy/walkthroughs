<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>RatedPilot Hacks</title>
        <link rel="stylesheet" href="../assets/css/writeups.css">
    </head>
    <body>
        <nav class="header">
            <a class="homelink" href="/walkthroughs"><h1 class="title">RatedPilot Hacks</h1></a>
        </nav>
        <div class="maintitle">
            <img class="image" src="../assets/images/hackthebox.jpg">
            <h1 style="display:inline-block">HackTheBox Write-Ups</h1>
        </div>
        <hr>
        <div class="writeup-content">
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Bastard-f4dd391bd6d54fbf80caa48b4e242e80"><h2>Bastard</h2></a>
                </div>
                <div class="writeup-date">
                    <p>April 19, 2023</p>
                </div>
                <div class="writeup-desc">
                    <p>Bastard is a Windows web server running an outdated version of Drupal&#46; I&#8217;ll find a CVE to upload a PHP file which will give me command execution and eventually a way to upload files to the server&#46; After getting a shell on the box&#44; I&#8217;ll hunt for kernel exploits and find an exploit that will enable me to execute commands as nt authority&#92;system&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Nineveh-66bb8c3b4ca64145834f8f7f373248d9"><h2>Nineveh</h2></a>
                </div>
                <div class="writeup-date">
                    <p>April 11, 2023</p>
                </div>
                <div class="writeup-desc">
                    <p>Nineveh is a Ubuntu machine running two different websites on HTTP and HTTPS&#46; I&#8217;ll brute force the logins for both websites and find a way to put PHP code on the server on the HTTPS site&#46; Then I&#8217;ll find and use a LFI vulnerability on the HTTP site to execute my PHP code to get a shell&#46; On the box&#44; I&#8217;ll find an image with hidden data inside to escalate my privileges to a user on the box&#46; Then I&#8217;ll open up SSH externally by performing port knocking on specific ports discovered in an email message&#46; After&#44; I&#8217;ll discover a file is being executed as root and I&#8217;ll utilize a description of a CVE to escalate my privileges to the root user manually&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Cronos-76b1324f309e449eb655b878adaceccc"><h2>Cronos</h2></a>
                </div>
                <div class="writeup-date">
                    <p>April 10, 2023</p>
                </div>
                <div class="writeup-desc">
                    <p>Cronos features a Ubuntu web server running Apache and DNS over TCP&#46; I&#8217;ll enumerate DNS to find a domain name&#44; then fuzz to find subdomain names&#46; I&#8217;ll come across an endpoint with a login portal and I&#8217;ll bypass the authentication mechanism with an SQL injection&#46; On the other side of the login&#44; I&#8217;ll see that the application is executing Linux commands and I&#8217;ll inject my own commands to get a shell on the box&#46; On the box&#44; I&#8217;ll enumerate a mySQL database to no avail&#44; then find a cronjob running as root&#46; I&#8217;ll abuse the cronjob to get a root shell on the box&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Beep-9a0a5f209a2a4ec28affef136682966b"><h2>Beep</h2></a>
                </div>
                <div class="writeup-date">
                    <p>April 8, 2023</p>
                </div>
                <div class="writeup-desc">
                    <p>Beep is a Red Hat Enterprise Linux system running an Elastix instance&#46; I&#8217;ll use a local file inclusion vulnerability to read the configuration file for the Asterisk Call Manager service also running on the box to find a password to login to the Elastix site&#46; Once logged in&#44; I&#8217;ll enumerate the site to find a phone number extension and use the information to exploit an RCE vulnerability to get a shell on the box&#46; Once on the box&#44; I&#8217;ll abuse a sudo configuration to run nmap as root to get a root shell&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Optimum-c9ef76652c83485b89bf8f27eb1e7368"><h2>Optimum</h2></a>
                </div>
                <div class="writeup-date">
                    <p>April 8, 2023</p>
                </div>
                <div class="writeup-desc">
                    <p>Optimum is a Windows Server 2012 instance hosting a website running HTTP File Server &lpar;HFS&rpar; version 2&period;3&period; This version of HFS is vulnerable to an RCE and I&rsquo;ll exploit this through Metasploit&period; Once on the box&comma; I&rsquo;ll use Metasploit&rsquo;s exploit suggester to find a secondary logon handle privilege escalation &lpar;MS16-032&rpar; and again use Metasploit to launch the exploit for a shell as nt authority&bsol;system&period;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Brainf-ck-5bb184153d1d46db8e35182f0d077d19"><h2>Brainf&#42;ck</h2></a>
                </div>
                <div class="writeup-date">
                    <p>April 6, 2023</p>
                </div>
                <div class="writeup-desc">
                    <p>Brainf&#42;ck features a Ubuntu server running a WordPress site with a plugin that allows users to create support tickets&#46; The server also runs a few mail services&#46; I&#8217;ll find a CVE for the WordPress instance and escalate my privileges to an admin account&#46; With access to the WordPress settings&#44; I&#39;ll find an email password and enumerate the found user&#39;s emails to find a password for a forum&#46; I&#39;ll decrypt an encrypted conversation in the forum and find an encrypted SSH key&#46; After brute forcing the password for the key&#44; I&#39;ll login with the key and find a script on the box that reads the root flag and encrypts it with RSA&#46; I&#39;ll use the prime numbers in the script to decrypt the flag to finish the box&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Devel-b11268c542274b06a9cf49efb83855ae"><h2>Devel</h2></a>
                </div>
                <div class="writeup-date">
                    <p>April 4, 2023</p>
                </div>
                <div class="writeup-desc">
                    <p>Devel is a Windows 7 server running an IIS site and an FTP share&#46; I&#8217;ll discover that the webroot can be written to via the FTP share and I&#8217;ll take advantage of this by generating an ASPX reverse shell and executing it through the website&#46; For privilege escalation I&#8217;ll utilize Metasploit&#8217;s exploit suggester and find a Kernel exploit I&#8217;ll use to get a shell as nt authority&#92;system&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Blue-6276986a5f804a09bc553b0c23c7157d"><h2>Blue</h2></a>
                </div>
                <div class="writeup-date">
                    <p>April 4, 2023</p>
                </div>
                <div class="writeup-desc">
                    <p>Blue is a simple machine showcasing a Windows 7 server running service pack 1 and SMBv1 which is vulnerable to the EternalBlue SMB exploit &#40;MS17-010&#41;&#46; I&#8217;ll use Nmap and smbclient to discover the vulnerable version information and then use Metasploit to utilize the EternalBlue exploit to get a shell as nt authority&#92;system&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Legacy-f1d1b755cd3a41a5a8772624a2bb6c95"><h2>Legacy</h2></a>
                </div>
                <div class="writeup-date">
                    <p>April 3, 2023</p>
                </div>
                <div class="writeup-desc">
                    <p>Legacy is a simple machine showcasing a Windows XP SMB exploit &#40;MS08-067&#41;&#46; I&#8217;ll use Nmap to discover the server is vulnerable and use Metasploit to exploit the vulnerability to get full access to the filesystem&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Nibbles-06e733ea6c2d461f9c7265ad97380985"><h2>Nibbles</h2></a>
                </div>
                <div class="writeup-date">
                    <p>April 2, 2023</p>
                </div>
                <div class="writeup-desc">
                    <p>Nibbles is a Ubuntu web server running a CMS &#34;Nibbleblog&#34;&#46; After finding a username and guessing a password&#44; I&#8217;ll use an authenticated Metasploit exploit that uploads a PHP file to get a shell on the box&#46; After&#44; I&#8217;ll abuse a sudo configuration to get a root shell on the box&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Bashed-637aeb15aa8342d8b686b940a42da60a"><h2>Bashed</h2></a>
                </div>
                <div class="writeup-date">
                    <p>April 2, 2023</p>
                </div>
                <div class="writeup-desc">
                    <p>Bashed is a Ubuntu web server running a simple website that suggests it&#8217;s using code from a GitHub repository&#46; I&#8217;ll examine the GitHub repo and find an easy-to-use web shell in a PHP file&#46; I&#8217;ll discover the PHP file on the web server and use it to get a shell on the box&#46; Sudo will be used to escalate to a new user&#44; then I&#8217;ll abuse a cronjob running a python script I have write access to to get a shell as root&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Lame-bba9211f4cf24b5082c66f6a077407f2"><h2>Lame</h2></a>
                </div>
                <div class="writeup-date">
                    <p>April 1, 2023</p>
                </div>
                <div class="writeup-desc">
                    <p>Lame is a Ubuntu server running two outdated services&#44; FTP and SMB&#46; After light enumeration&#44; I&#8217;ll attempt to use a backdoor exploit on the outdated FTP service but find out that the vulnerability has been patched&#46; Instead&#44; I&#8217;ll exploit the outdated Samba SMB service with Metasploit to get a root shell on the box&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Forest-ac11e9af34c04596bf6cc2495c643b5f"><h2>Forest</h2></a>
                </div>
                <div class="writeup-date">
                    <p>July 22, 2021</p>
                </div>
                <div class="writeup-desc">
                    <p>Forest is a Domain Controller running on Windows Server 2016&#46; I&#8217;ll enumerate LDAP to find valid usernames for user&#44; machine&#44; and service accounts&#46; With a list of valid users&#44; I&#8217;ll perform an ASREPRoasting attack to discover a service account that isn&#8217;t using Kerberos preauthentication and get their password hash&#46; I&#8217;ll use hashcat to crack the password&#44; then remotely login to the DC with the password as the &#8220;svc-alfresco&#8221; service account&#46; With credentials&#44; I&#8217;ll run Bloodhound to find an attack chain that leads to getting access as the Domain Administrator&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Heist-b4cd27cbe7d24c31ab8c94e212c7392d"><h2>Heist</h2></a>
                </div>
                <div class="writeup-date">
                    <p>July 20, 2021</p>
                </div>
                <div class="writeup-desc">
                    <p>Heist features a Windows server running an IIS site and RPC&#46; I&#8217;ll find a login page on the website&#44; and I&#8217;m able to login as a guest user&#46; With access to the site&#44; I&#8217;ll find an attachment in a forum with a password hash and an encoded cisco password&#46; I&#8217;ll use JohnTheRipper to crack the password hash and a python tool to decode the cisco password&#46; After&#44; I&#8217;ll brute force user SID&#8217;s to find valid accounts on the server&#46; With a list of usernames and passwords&#44; I&#8217;ll perform a password spray to find a successful credential pair&#46; I&#8217;ll use the credentials to remote into the box&#46; On the box&#44; I&#8217;ll notice that FireFox is running and I&#8217;ll use procdump to dump the process information to find a cleartext password for the Administrator user&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Traverxec-31cf21886af74b59aa4926fa759fcf01"><h2>Traverxec</h2></a>
                </div>
                <div class="writeup-date">
                    <p>July 20, 2021</p>
                </div>
                <div class="writeup-desc">
                    <p>Traverxec is a Debian web server running Nostromo 1&#46;9&#46;6&#46; The web application is vulnerable to a remote command execution and I&#8217;ll use CVE-2019-16278 to get a shell on the box as the www-data user&#46; With a shell on the box&#44; I&#8217;ll find a password hash in the &#46;htpasswd file in the web directory and crack the password hash with hashcat and JohnTheRipper&#46; However&#44; this password does not grant further access&#46; To progress&#44; I&#8217;ll discover a directory through the Nostromo configuration file which contains an encrypted private SSH key&#46; I&#8217;ll crack the password for the key and get access as the david user via SSH&#46; Lastly&#44; I&#8217;ll find that the david user can run the journalctl command with sudo by analyzing a script on the box and use it to get a shell as the root user&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Bastion-0047ede3ced64ceeaf0c46b598c9be7f"><h2>Bastion</h2></a>
                </div>
                <div class="writeup-date">
                    <p>July 20, 2021</p>
                </div>
                <div class="writeup-desc">
                    <p>Bastion is a Windows Server 2016 machine running several services&#46; I&#8217;ll start by discovering a virtual hard drive in a public SMB share and mount it to my local machine&#46; With access to all of the files&#44; I&#8217;ll grab the SAM&#44; SYSTEM&#44; and SECURITY registry hives and dump user password hashes&#46; I&#8217;ll then find that I can crack the &#8220;L4mpje&#8221; user&#8217;s password and I&#8217;ll use it to login to the box&#46; On the box&#44; I&#8217;ll find a configuration file for the mRemoteNG application which contains an encrypted password&#46; I&#8217;ll use a python tool to decrypt the password and login to the box as the Administrator user with the password&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Writeup-f44d63f3889b44c0ba5dbfb38da0ab74"><h2>Writeup</h2></a>
                </div>
                <div class="writeup-date">
                    <p>July 17, 2021</p>
                </div>
                <div class="writeup-desc">
                    <p>Writeup is a Debian web server running an Apache site&#46; I&#8217;ll find resources on this site from the robots&#46;txt file which leads me to a page with CMS details in the source code&#46; This particular CMS version is vulnerable to an unauthenticated SQL injection and I&#8217;ll use CVE-2019-9053 to dump user password hashes from the CMS and crack them&#46; After cracking a password&#44; I&#8217;ll use the credential pair to login to the box via SSH as the &#8220;jkr&#8221; user&#46; On the box&#44; I&#8217;ll monitor running processes with pspy64 to discover a relative path is being used for a command when I login via SSH&#46; I&#8217;ll abuse my write access to &#47;usr&#47;local&#47;bin to create my own malicious command&#44; hijacking the legitimate functionality to get a shell on the box as the root user&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Active-7e42c0f69209498999e0efae54bd2729"><h2>Active</h2></a>
                </div>
                <div class="writeup-date">
                    <p>July 17, 2021</p>
                </div>
                <div class="writeup-desc">
                    <p>Active features a Domain Controller with many services running&#46; I&#8217;ll start by finding a cpassword for the service account &#8220;SVC-TGS&#8221;&#39; from a Groups&#46;xml file located in the public SMB share&#46; I&#8217;ll decrypt this password and use the credential pair to perform a Kerberoasting attack on the DC to get a hash for the Administrator&#46; I&#8217;ll then use JohnTheRipper to crack the password hash and get a shell as nt authority&#92;system&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/OpenAdmin-9bd3b4661ae6426bb6a6a4194a08faa2"><h2>OpenAdmin</h2></a>
                </div>
                <div class="writeup-date">
                    <p>July 17, 2021</p>
                </div>
                <div class="writeup-desc">
                    <p>OpenAdmin is a Ubuntu web server running Apache&#46; I&#8217;ll run some directory scanners to find an instance of OpenNetAdmin&#46; The particular version of OpenNetAdmin is vulnerable to a remote command injection&#46; I&#8217;ll use an exploit found online to abuse this vulnerability to get a shell on the box as the www-data user&#46; Once on the box&#44; I&#8217;ll go into the ONA configuration files to find a password for the jimmy user&#46; As the jimmy user&#44; I&#8217;ll discover a website behind a firewall that I couldn&#8217;t see before&#46; I&#8217;ll port forward this website to my local machine with SSH&#46; On the site&#44; I get a password hash that can be cracked with JohnTheRipper&#46; Using the password&#44; I&#8217;ll login to the box as the joanna user&#46; The joanna user has sudo privileges to run the nano command on a specific file&#46; I&#8217;ll abuse this to execute arbitrary commands as the root user to escalate my privileges to the root user&#46;</p>
                </div>
            </div>
            <div class="writeupinfo">
                <div class="writeup-title">
                    <a class="writeup-link" href="https://clayton-galy.notion.site/Shocker-917f0ae4b9644c80b91881b11569facb"><h2>Shocker</h2></a>
                </div>
                <div class="writeup-date">
                    <p>July 15, 2021</p>
                </div>
                <div class="writeup-desc">
                    <p>Shocker is a Ubuntu web server running Apache&#46; After running gobuster on the site&#44; I&#8217;ll find a cgi-bin directory and a user&#46;sh script inside&#46; I&#8217;ll then use the shellshock vulnerability to execute arbitrary commands on the server to eventually get a shell on the box&#46; On the box as the shelly user&#44; I&#8217;ll discover that I have sudo privileges to run perl as the root user&#46; I&#8217;ll abuse this to get a shell as the root user&#46;</p>
                </div>
            </div>
        </div>
    </body>
</html>
